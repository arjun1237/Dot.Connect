CREATE TABLE companyInfo (
	regNum VARCHAR (50) NOT NULL ,
	title VARCHAR (256) NOT NULL ,
	pointContact VARCHAR (256) NOT NULL ,
	email VARCHAR (150) NOT NULL ,
	mailDomain VARCHAR (256) NOT NULL,
	token VARCHAR (256) NOT NULL,
	active INT (1) NOT NULL DEFAULT 0,
	PRIMARY KEY (regNum)
);


CREATE TABLE employee (
	regNum VARCHAR (50) NOT NULL ,
	name VARCHAR (256) NOT NULL ,
	email VARCHAR (150) NOT NULL ,	
	hash VARCHAR (256) NOT NULL,
	salt VARCHAR (256) NOT NULL,
	token VARCHAR (256) NOT NULL,
	active INT (1) NOT NULL DEFAULT 0,
	PRIMARY KEY (email),
	FOREIGN KEY (regNum) REFERENCES companyInfo(regNum) ON UPDATE CASCADE ON DELETE CASCADE
);


CREATE TABLE mobile(
	email VARCHAR (150) NOT NULL ,
	code VARCHAR (10) NOT NULL DEFAULT '0',
	mobile VARCHAR (20) NOT NULL DEFAULT '0',
	token VARCHAR (10) NOT NULL,
	active INT (1) NOT NULL DEFAULT 0,
	PRIMARY KEY (email),
	FOREIGN KEY (email) REFERENCES employee(email) ON UPDATE CASCADE ON DELETE CASCADE
);


CREATE TABLE login(
	email VARCHAR (150) NOT NULL,
	notlogged INT (1) NOT NULL DEFAULT 0,
	PRIMARY KEY (email),
	FOREIGN KEY (email) REFERENCES employee(email) ON UPDATE CASCADE ON DELETE CASCADE
);


CREATE TABLE location(
	email VARCHAR (150) NOT NULL ,
	IPAddress VARCHAR (50) NOT NULL ,
	city VARCHAR (256) NOT NULL,
	country VARCHAR (256) NOT NULL,
	PRIMARY KEY (email, IPAddress),
	FOREIGN KEY (email) REFERENCES employee(email) ON UPDATE CASCADE ON DELETE CASCADE
);


